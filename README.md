# events-lab
Лабораторная работа по событиям в C#

## Постановка задачи
### Часть 1. 

1. Создать иерархию классов. Для каждого класса реализовать конструктор без параметров, с параметрами, свойства для доступа к полям объектов, метод для автоматического формирования объектов. Перегрузить метод ToString() для формирования строки со значениями всех полей класса. 

2. Создать класс MyCollection как производный класс от класса Сollection<MyClass>. Реализовать в классе методы для  заполнения коллекции (элементы коллекции формируются автоматически), добавления элементов коллекции, удаления элементов коллекции, сортировки элементов коллекции по заданному полю,  очистки коллекции. Реализовать итератор для доступа к элементам коллекции. Реализовать свойство Length (только для чтения), содержащее текущее количество элементов коллекции.  

3. Написать демонстрационную программу иллюстрирующую работу всех методов класса MyCollection. Использовать исключительные ситуации для обработки ошибочных ситуаций. 

### Часть 2. 

1. Определить класс MyNewCollection производный от класса MyCollection, который с помощью событий извещает об изменениях в коллекции.  

2. Коллекция состоит из объектов ссылочных типов. Коллекция изменяется при удалении/добавлении элементов или при изменении одной из входящих в коллекцию ссылок, например, когда одной из ссылок присваивается новое значение. В этом случае в соответствующих методах или свойствах класса бросаются события.   

3. При изменении данных объектов, ссылки на которые входят в коллекцию, значения самих ссылок не изменяются. Этот тип изменений не порождает событий.  

4. Для событий, извещающих об изменениях в коллекции, определяется свой делегат. События регистрируются в специальных классах-слушателях. 

5. Для событий определить делегат CollectionHandler с сигнатурой:   void CollectionHandler (object source, CollectionHandlerEventArgs args);  

6. Определить класс CollectionHandlerEventArgs, производный от класса System.EventArgs, который содержит:  открытое автореализуемое свойство типа string с названием коллекции, в которой произошло событие;    открытое автореализуемое свойство типа string с информацией о типе изменений в коллекции;  открытое автореализуемое свойство для ссылки на объект, с которым связаны изменения;     конструкторы для инициализации класса;    перегруженную версию метода string ToString() для формирования строки с информацией обо всех полях класса.  

7. В новую версию класса MyNewCollection добавить:    открытое автореализуемое свойство типа string с названием коллекции;  метод bool Remove (int j) для удаления элемента с номером j ; если в списке нет элемента с номером j, метод возвращает значение false;   индексатор (с методами get и set) с целочисленным индексом для доступа к элементу с заданным номером.  

8. В класс MyNewCollection добавить два события типа CollectionHandler. CollectionCountChanged, которое происходит при добавлении нового элемента в коллекцию или при удалении элемента из коллекции; через объект CollectionHandlerEventArgs cобытие передает имя коллекции, строку с информацией о том, что в коллекцию был добавлен новый элемент или из нее был удален элемент, ссылку на добавленный или удаленный элемент;   CollectionReferenceChanged, которое происходит, кaогда одной из ссылок, входящих в коллекцию, присваивается новое значение; через объект CollectionHandlerEventArgs событие передает имя коллекции, строку с информацией о том, что был заменен элемент в коллекции, и ссылку на новый элемент.  

9. Событие CollectionCountChanged бросают следующие методы класса MyNewCollection AddDefaults(); Add (object[] ) ; Remove (int index).  

10. Событие CollectionReferenceChanged бросает метод set индексатора, определенного в классе MyNewCollection.   

11. Определить класс Journal, который можно использовать для накопления информации об изменениях в коллекциях типа MyNewCollection. Класс Journal хранит информацию в списке объектов типа JournalEntry. Каждый элемент списка содержит информацию об отдельном изменении, которое произошло в коллекции. Класс JournalEntry содержит  открытое автореализуемое свойство типа string с названием коллекции, в которой произошло событие;   открытое автореализуемое свойство типа string с информацией о типе изменений в коллекции;   открытое автореализуемое свойство типа string c данными объекта, с которым связаны изменения в коллекции;   конструктор для инициализации полей класса;  перегруженную версию метода string ToString(). 

12. Класс Journal содержит  коллекцию элементов типа JournalEntry (закрытое поле);  обработчики событий CollectionCountChanged и CollectionReferenceChanged, которые добавляют новый элемент JournalEntry в коллекцию; для инициализации JournalEntry используется информация из объекта CollectionHandlerEventArgs, который передается вместе с событием;   перегруженную версию метода string ToString() для формирования строки с информацией обо всех элементах массива.

13. Написать демонстрационную программу, в которой: создать две коллекции MyNewCollection. Создать два объекта типа Journal, один объект Journal подписать на события CollectionCountChanged и CollectionReferenceChanged из первой коллекции, другой объект Journal подписать на события CollectionReferenceChanged из обеих коллекций.  Внести изменения в коллекции MyNewCollection   Добавить элементы в коллекции;   Удалить некоторые элементы из коллекций;   Присвоить некоторым элементам коллекций новые значения.   Вывести данные обоих объектов Journal. 
